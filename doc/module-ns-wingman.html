<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Module: ns-wingman</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Module: ns-wingman</h1>

    




<section>

<header>
    
        
            
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><h3>Node Server Wingman</h3><h3>Description</h3>Contains common features used in a node standalone server.<br/>Integrates configuration, logging, signal trapping and error handling.<br/>Uses <a href="https://github.com/wildbillh/winston-wingman">winston-wingman</a> and <a href="https://github.com/winstonjs/winston">winston</a> for logging and <a href="https://github.com/indexzero/nconf">nconf</a> for configuration.<h3>Features</h3><li>Logs start and stop of server and includes process id.</li><li>Catches unhandledRejection and uncaughtException, writes to log, calls cleanup() and exit().</li><li>Traps and ignores SIGHUP.</li><li>Traps SIGINT, writes to log and exits gracefully.</li><li>Listens to beforeExit event and calls cleanup() and exit().</li><li>Allows user to register a cleanup function and set a timeout prior to calling exit().</li><li>Searches nconf configuration for WinstonConsoleTransport and WinstonFileTransport properties. If found, applies.</li><li>Provides an easy winston interface through exported variable winstonWingman.</li></ul></div>
        

        
            















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ns-wingman.js.html">ns-wingman.js</a>, <a href="ns-wingman.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    
    </div>

    

    
        <h3 class="subsection-title">Requires</h3>

        <ul>
            <li>module:winston-wingman</li>
        
            <li>module:nconf</li>
        </ul>
    

    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id=".winstonWingman"><span class="type-signature">(static) </span>winstonWingman<span class="type-signature"></span></h4>




<div class="description">
    Expose the winstonWingman interface. With this exposure, users can easily changewinston configurations with the provided interface.See the <a href="https://www.npmjs.com/package/winston-wingman">winston-wingman</a> documentation for details.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ns-wingman.js.html">ns-wingman.js</a>, <a href="ns-wingman.js.html#line35">line 35</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="~init"><span class="type-signature">(inner) </span>init<span class="signature">(initialLogFilename<span class="signature-attributes">opt</span>, configFile<span class="signature-attributes">opt</span>, cleanup<span class="signature-attributes">opt</span>, timeout<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Handles several common tasks that stand-alone Node applications would utillze. Writes standard server start and stop messages to the log file and traps signals and unhandled Promise rejections.<br/> If an nconf value of WinstonConsoleTransport or WinstonFileTransport are found, the configs will be merged into the default transports and applied.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>initialLogFilename</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last">Initial log filename to use. If defaulted or null is passed then the filename 'app.log' is used. Note that if the log filename is overwritten in the config file, this file will only be used for a short duration at startup.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>configFile</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last">The name of the nconf compatible config file</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cleanup</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last">Function to call to clean up resources prior to exit</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>timeout</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    0
                
                </td>
            

            <td class="description last">Number of milliseconds to wait before calling exit</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ns-wingman.js.html">ns-wingman.js</a>, <a href="ns-wingman.js.html#line77">line 77</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-ns-wingman.html">ns-wingman</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.2</a> on Tue Oct 25 2016 14:06:25 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>